<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDCAT Daily Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA;
            color: #2C3E50;
            overscroll-behavior: none; /* Prevents pull-to-refresh on mobile */
        }
        .gradient-progress {
            background-image: linear-gradient(to right, #20B2AA, #3EB489);
        }
        .gradient-button {
            background-image: linear-gradient(to right, #E6E6FA, #FFDAB9);
            transition: transform 0.2s ease-in-out;
        }
        .gradient-button:hover {
            transform: scale(1.05);
        }
        .quiz-option {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .quiz-option:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .correct-answer {
            animation: pulseGreen 0.8s ease-in-out;
            background-color: #90EE90 !important;
            border-color: darkgreen !important;
        }
        .incorrect-answer {
            animation: shakeRed 0.5s ease-in-out;
            background-color: #FF6B6B !important;
            border-color: darkred !important;
        }
        @keyframes pulseGreen {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes shakeRed {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }
        .special-question {
            border: 3px solid #FFD700; /* Golden border */
        }
        .no-select {
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10 and IE 11 */
            user-select: none; /* Standard syntax */
        }
        /* For swipeable cards (conceptual, full implementation is complex) */
        .swipe-container {
            overflow-x: hidden;
            position: relative;
        }
        .question-card-wrapper {
            display: flex;
            transition: transform 0.3s ease-in-out;
        }
        .question-card-item {
            min-width: 100%;
            box-sizing: border-box;
        }
        /* Custom modal for alerts */
        .custom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .custom-modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
         /* Ensure inputs are visible on dark mode if browser forces it */
        input[type="text"], input[type="password"] {
            color: #2C3E50; /* Or your desired text color for inputs */
            background-color: #FFFFFF; /* Or your desired background for inputs */
        }
    </style>
</head>
<body class="no-select">

    <div id="login-page" class="min-h-screen flex flex-col items-center justify-center p-4">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md text-center">
            <img src="https://i.ibb.co/zHDMrzbf/20250520-0957-Timeless-Healing-Wisdom-simple-compose-01jvqa0g2zfmzs4tq83z7k3h93.png" alt="MDCAT Banner" class="w-32 h-32 mx-auto mb-6 rounded-full object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/CCCCCC/2C3E50?text=MESP';">
            <h1 class="text-2xl font-bold mb-6 text-[#2C3E50]">MDCAT Daily Quiz Login</h1>
            <div class="mb-4">
                <input type="text" id="username" placeholder="Username (23MAY)" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#20B2AA]">
            </div>
            <div class="mb-6">
                <input type="password" id="password" placeholder="Password (1122)" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#20B2AA]">
            </div>
            <button id="login-button" class="w-full gradient-button text-white font-semibold p-3 rounded-lg hover:opacity-90">Login</button>
            <p id="login-error" class="text-red-500 mt-4 text-sm"></p>
        </div>
         <p class="mt-8 text-sm text-gray-600">Medical Entrance Success Pakistan | Contact: 03265762698</p>
    </div>

    <div id="name-page" class="min-h-screen flex flex-col items-center justify-center p-4 hidden">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md text-center">
            <h1 class="text-2xl font-bold mb-6 text-[#2C3E50]">Enter Your Full Name</h1>
            <div class="mb-6">
                <input type="text" id="full-name" placeholder="Full Name" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#20B2AA]">
            </div>
            <button id="name-submit-button" class="w-full gradient-button text-white font-semibold p-3 rounded-lg hover:opacity-90">Start Quiz</button>
            <p id="name-error" class="text-red-500 mt-4 text-sm"></p>
        </div>
    </div>

    <div id="quiz-page" class="min-h-screen flex-col hidden">
        <div id="top-bar" class="bg-white shadow-md p-3 flex justify-between items-center sticky top-0 z-50 w-full">
            <div class="text-sm font-semibold text-[#2C3E50]">Welcome, <span id="candidate-name-display"></span>!</div>
            <div id="live-date" class="text-sm text-[#6D6875] font-semibold">ðŸ“… Loading date...</div>
        </div>

        <div class="container mx-auto p-4 flex-grow">
            <h1 id="quiz-title" class="text-3xl font-bold text-center my-4 text-[#2C3E50]">MDCAT Daily Quiz â€“ Loading...</h1>

            <div class="my-6 text-center bg-[#FFF5EE] p-6 rounded-lg shadow-md">
                <img src="https://i.ibb.co/zHDMrzbf/20250520-0957-Timeless-Healing-Wisdom-simple-compose-01jvqa0g2zfmzs4tq83z7k3h93.png" 
                     alt="MDCAT Banner" 
                     class="w-full max-w-lg mx-auto mb-4 rounded-lg shadow-lg object-contain h-48 md:h-64"
                     onerror="this.onerror=null;this.src='https://placehold.co/600x150/CCCCCC/2C3E50?text=Medical+Entrance+Success+Pakistan';">
                <p class="text-xl font-bold text-[#2C3E50]">Medical Entrance Success Pakistan</p>
                <p class="text-md text-[#2C3E50]">Contact: 03265762698</p>
                <p id="updated-on" class="text-xs text-gray-500 mt-1">Updated on: Loading...</p>
            </div>
            
            <div class="my-6 p-4 bg-white rounded-lg shadow-md">
                <div class="flex justify-between items-center mb-2">
                    <div id="timer" class="text-lg font-semibold text-[#2C3E50]">Time Left: 01:00:00</div>
                    <div id="progress-text" class="text-sm font-medium text-[#2C3E50]">0%</div>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-4">
                    <div id="progress-bar" class="gradient-progress h-4 rounded-full" style="width: 0%;"></div>
                </div>
                 <button id="surprise-me-button" class="mt-4 gradient-button text-white text-sm font-semibold py-2 px-4 rounded-lg hover:opacity-90">Toggle Surprise Me Mode (OFF)</button>
            </div>

            <div id="question-container" class="bg-white p-6 rounded-lg shadow-xl mb-6">
                </div>

            <div class="flex justify-between items-center mt-6 mb-8">
                <button id="prev-button" class="gradient-button text-white font-semibold py-2 px-6 rounded-lg hover:opacity-90 disabled:opacity-50" disabled>Previous</button>
                <button id="next-button" class="gradient-button text-white font-semibold py-2 px-6 rounded-lg hover:opacity-90">Next</button>
                <button id="submit-quiz-button" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-6 rounded-lg hidden">Submit Quiz</button>
            </div>
        </div>
    </div>

    <div id="results-page" class="min-h-screen flex flex-col items-center justify-center p-4 hidden">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-lg text-center">
            <h1 class="text-3xl font-bold mb-6 text-[#2C3E50]">Quiz Results</h1>
            <div class="text-left space-y-3 text-lg mb-8">
                <p><strong>Name:</strong> <span id="result-name"></span></p>
                <p><strong>Score:</strong> <span id="result-score"></span></p>
                <p><strong>Attempted Questions:</strong> <span id="result-attempted"></span></p>
                <p><strong>Time Taken:</strong> <span id="result-time"></span></p>
            </div>
            <p class="text-sm text-gray-600 mb-4">Your results are being submitted. Thank you!</p>
            <button id="retake-quiz-button" class="gradient-button text-white font-semibold p-3 rounded-lg hover:opacity-90 w-full">Retake Quiz (New Session)</button>

        </div>
    </div>

    <form id="results-form" action="https://formspree.io/f/xdkgvgbd" method="POST" class="hidden">
        <input type="text" name="candidateName" id="form-name">
        <input type="text" name="score" id="form-score">
        <input type="text" name="attemptedQuestions" id="form-attempted">
        <input type="text" name="timeTaken" id="form-time">
        <input type="text" name="quizDate" id="form-quiz-date">
        <input type="text" name="submissionTimestamp" id="form-submission-timestamp">
    </form>

    <div id="custom-modal" class="custom-modal hidden">
        <div class="custom-modal-content">
            <p id="custom-modal-message" class="mb-4"></p>
            <button id="custom-modal-close" class="gradient-button text-white font-semibold py-2 px-4 rounded-lg">OK</button>
        </div>
    </div>


    <script>
        // --- Constants and State Variables ---
        const CORRECT_USERNAME = "23MAY";
        const CORRECT_PASSWORD = "1122";
        const QUIZ_DURATION = 3600; // 1 hour in seconds
        const QUIZ_DATE_STRING = "May 23, 2025"; // For "Today's Special Question" and title

        let questions = [
            // Syllabus: Biology - ACELLULAR LIFE (Viruses, AIDS)
            // 1.1 Classify viruses on basis of their structure/ number of strands/ diseases/host etc.
            // 1.2 Identify symptoms, mode of transmission and cause of viral disease (AIDS).

            // --- EASY QUESTIONS (10) ---
            {
                text: "What does 'acellular' signify in the context of viruses?",
                options: [
                    { text: "They are composed of multiple specialized cells.", correct: false },
                    { text: "They are not composed of cells and lack cellular machinery.", correct: true },
                    { text: "They possess a single, undifferentiated cell structure.", correct: false },
                    { text: "They are a complex form of bacteria.", correct: false }
                ],
                explanation: "Acellular means 'not cellular' or 'without cells.' Viruses lack fundamental cell structures like cytoplasm and organelles, and cannot carry out metabolic processes independently. They are obligate intracellular parasites.",
                difficulty: "Easy",
                isSpecial: false 
            },
            {
                text: "The genetic material of a virus is enclosed within a protein coat called the:",
                options: [
                    { text: "Nucleus", correct: false },
                    { text: "Capsid", correct: true },
                    { text: "Cell membrane", correct: false },
                    { text: "Ribosome", correct: false }
                ],
                explanation: "The capsid is the protein shell that surrounds the viral nucleic acid (DNA or RNA). It protects the genetic material and helps in the attachment and entry into host cells.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "Which of the following is a common shape for viral capsids?",
                options: [
                    { text: "Spherical", correct: false }, // Often refers to envelope, capsid can be icosahedral
                    { text: "Helical", correct: true },
                    { text: "Rectangular", correct: false },
                    { text: "Triangular", correct: false }
                ],
                explanation: "Common viral capsid shapes include helical (rod-shaped, e.g., Tobacco Mosaic Virus) and icosahedral (a polyhedron with 20 faces, e.g., Adenovirus). Some viruses have complex structures (e.g., bacteriophages).",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "What does HIV stand for?",
                options: [
                    { text: "Human Influenza Virus", correct: false },
                    { text: "Human Immunodeficiency Virus", correct: true },
                    { text: "Hepatitis Infection Virus", correct: false },
                    { text: "Herpes Immunity Virus", correct: false }
                ],
                explanation: "HIV stands for Human Immunodeficiency Virus. It is the virus that causes Acquired Immunodeficiency Syndrome (AIDS).",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "AIDS is a condition that primarily affects which system of the body?",
                options: [
                    { text: "Respiratory system", correct: false },
                    { text: "Nervous system", correct: false },
                    { text: "Immune system", correct: true },
                    { text: "Digestive system", correct: false }
                ],
                explanation: "AIDS (Acquired Immunodeficiency Syndrome) is characterized by a severely weakened immune system, making the individual susceptible to opportunistic infections and certain cancers.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "Can viruses reproduce on their own outside a host cell?",
                options: [
                    { text: "Yes, if they have enough nutrients.", correct: false },
                    { text: "No, they require a host cell's machinery to replicate.", correct: true },
                    { text: "Yes, but only RNA viruses can.", correct: false },
                    { text: "Only DNA viruses can reproduce independently.", correct: false }
                ],
                explanation: "Viruses are obligate intracellular parasites, meaning they can only replicate inside a living host cell. They lack the necessary enzymes and organelles for self-replication.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "A virus that infects bacteria is called a:",
                options: [
                    { text: "Viroid", correct: false },
                    { text: "Prion", correct: false },
                    { text: "Bacteriophage", correct: true },
                    { text: "Mycovirus", correct: false }
                ],
                explanation: "Bacteriophages (or phages) are viruses that specifically infect and replicate within bacteria. 'Bacterio' refers to bacteria, and 'phage' means to eat or devour.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "Which of these is NOT a mode of HIV transmission?",
                options: [
                    { text: "Sharing needles", correct: false },
                    { text: "Unprotected sex", correct: false },
                    { text: "Mosquito bites", correct: true },
                    { text: "Mother to child during birth", correct: false }
                ],
                explanation: "HIV is transmitted through specific body fluids (blood, semen, vaginal fluids, breast milk). It is NOT transmitted by insects like mosquitoes or through casual contact like hugging.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "The term 'viral envelope' refers to:",
                options: [
                    { text: "The viral genetic material.", correct: false },
                    { text: "The inner protein coat.", correct: false },
                    { text: "An outer lipid membrane some viruses have.", correct: true },
                    { text: "A carbohydrate shell.", correct: false }
                ],
                explanation: "The viral envelope is a lipid bilayer that surrounds the capsid in some viruses (enveloped viruses). It is derived from the host cell membrane during viral budding and contains viral proteins.",
                difficulty: "Easy",
                isSpecial: false
            },
            {
                text: "What is the primary type of nucleic acid in HIV?",
                options: [
                    { text: "Single-stranded DNA", correct: false },
                    { text: "Double-stranded DNA", correct: false },
                    { text: "RNA", correct: true },
                    { text: "Both DNA and RNA", correct: false }
                ],
                explanation: "HIV is an RNA virus, specifically a retrovirus. Its genome consists of two copies of single-stranded RNA.",
                difficulty: "Easy",
                isSpecial: false
            },

            // --- MEDIUM QUESTIONS (50) ---
            {
                text: "Which of the following is NOT a primary characteristic used for classifying viruses?",
                options: [
                    { text: "Type of nucleic acid (DNA or RNA)", correct: false },
                    { text: "Their metabolic rate when outside a host cell", correct: true },
                    { text: "Presence or absence of a lipid envelope", correct: false },
                    { text: "The type of host organism they infect (e.g., animal, plant, bacteria)", correct: false }
                ],
                explanation: "Viruses are classified based on nucleic acid type, capsid structure, envelope presence, replication strategy, and host range. They are metabolically inert outside a host cell and do not have their own metabolic rate.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The protein coat that encloses the genetic material of a virus is known as a:",
                options: [
                    { text: "Capsule", correct: false },
                    { text: "Cell wall", correct: false },
                    { text: "Capsid", correct: true },
                    { text: "Envelope", correct: false }
                ],
                explanation: "The capsid is the protein shell of a virus. Some viruses also have an outer lipid envelope, but the capsid is the primary protein coat directly enclosing the genetic material.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "HIV (Human Immunodeficiency Virus), the cause of AIDS, is what type of virus?",
                options: [
                    { text: "A DNA virus", correct: false },
                    { text: "A bacteriophage", correct: false },
                    { text: "A retrovirus (an RNA virus that uses reverse transcriptase)", correct: true },
                    { text: "A plant virus", correct: false }
                ],
                explanation: "HIV is a retrovirus. This means its genetic material is RNA, and it carries the enzyme reverse transcriptase to convert its RNA into DNA within the host cell.",
                difficulty: "Medium",
                isSpecial: true // Today's Special Question
            },
            {
                text: "Which of these is a primary mode of HIV transmission?",
                options: [
                    { text: "Sharing utensils with an infected person", correct: false },
                    { text: "Mosquito bites", correct: false },
                    { text: "Unprotected sexual contact with an infected person", correct: true },
                    { text: "Casual contact like hugging or shaking hands", correct: false }
                ],
                explanation: "HIV is primarily transmitted through direct contact with certain body fluids from an infected person, such as blood, semen, vaginal fluids, and breast milk. Unprotected sexual contact is a major route.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Bacteriophages are viruses that specifically infect:",
                options: [
                    { text: "Plants", correct: false },
                    { text: "Animals", correct: false },
                    { text: "Fungi", correct: false },
                    { text: "Bacteria", correct: true }
                ],
                explanation: "Bacteriophages, often called phages, are viruses that exclusively infect bacteria. They are important in microbial genetics and ecology.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The specificity of a virus for a particular host cell is largely determined by:",
                options: [
                    { text: "The size of the virus.", correct: false },
                    { text: "The type of nucleic acid in the virus.", correct: false },
                    { text: "Interaction between viral surface proteins and host cell receptors.", correct: true },
                    { text: "The temperature of the host environment.", correct: false }
                ],
                explanation: "Host specificity is primarily due to the precise interaction between proteins (or glycoproteins) on the surface of the virus and specific receptor molecules on the surface of the host cell. This is like a lock-and-key mechanism.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which statement accurately describes a difference between lytic and lysogenic cycles of bacteriophages?",
                options: [
                    { text: "Only the lytic cycle involves replication of viral DNA.", correct: false },
                    { text: "The host cell is destroyed quickly in the lysogenic cycle.", correct: false },
                    { text: "In the lysogenic cycle, viral DNA integrates into the host genome as a prophage.", correct: true },
                    { text: "The lysogenic cycle does not involve viral protein synthesis.", correct: false }
                ],
                explanation: "In the lytic cycle, the virus replicates and causes the host cell to burst (lyse) quickly. In the lysogenic cycle, the viral DNA integrates into the host chromosome (becoming a prophage) and replicates along with the host DNA, often without immediately destroying the cell.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A 'virion' refers to:",
                options: [
                    { text: "A virus-infected cell.", correct: false },
                    { text: "The protein subunit of a capsid.", correct: false },
                    { text: "A complete, infectious virus particle outside a host cell.", correct: true },
                    { text: "The site of viral replication within a cell.", correct: false }
                ],
                explanation: "A virion is a single, complete, and infectious virus particle that exists outside of a host cell. It consists of the nucleic acid core, capsid, and, in some cases, an envelope.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Influenza viruses are classified into types A, B, and C based on:",
                options: [
                    { text: "The shape of their capsid.", correct: false },
                    { text: "The type of host they infect.", correct: false },
                    { text: "Antigenic differences in their nucleoprotein and matrix proteins.", correct: true },
                    { text: "The length of their RNA genome.", correct: false }
                ],
                explanation: "Influenza viruses are typed (A, B, C, D) based on antigenic differences in their internal proteins, specifically the nucleoprotein (NP) and matrix (M1) proteins.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the role of the enzyme integrase in the HIV life cycle?",
                options: [
                    { text: "It helps the virus attach to the host cell.", correct: false },
                    { text: "It copies viral RNA into DNA.", correct: false },
                    { text: "It inserts the viral DNA into the host cell's chromosome.", correct: true },
                    { text: "It cleaves viral polyproteins into functional proteins.", correct: false }
                ],
                explanation: "After reverse transcriptase converts HIV's RNA into DNA, the viral enzyme integrase facilitates the integration of this viral DNA into the host cell's chromosomal DNA, forming a provirus.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The period during which a person is infected with HIV but does not yet show severe symptoms of AIDS is known as:",
                options: [
                    { text: "The window period.", correct: false }, // Window period is time before antibodies are detectable
                    { text: "Clinical latency or asymptomatic stage.", correct: true },
                    { text: "Acute infection stage.", correct: false },
                    { text: "Terminal illness stage.", correct: false }
                ],
                explanation: "Clinical latency (also called asymptomatic HIV infection or chronic HIV infection) is a stage where HIV is still active but reproduces at very low levels. People may not have any symptoms or only mild ones. This stage can last for many years if not treated.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these is an example of an opportunistic infection commonly seen in AIDS patients?",
                options: [
                    { text: "Common cold", correct: false },
                    { text: "Seasonal flu", correct: false },
                    { text: "Pneumocystis pneumonia (PCP)", correct: true },
                    { text: "Chickenpox in children", correct: false }
                ],
                explanation: "Opportunistic infections are caused by pathogens that usually do not cause disease in people with a healthy immune system. Pneumocystis pneumonia (PCP), caused by the fungus Pneumocystis jirovecii, is a common and serious opportunistic infection in individuals with AIDS.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Viruses are considered obligate intracellular parasites because:",
                options: [
                    { text: "They can only survive in cold temperatures.", correct: false },
                    { text: "They must infect a host cell to replicate.", correct: true },
                    { text: "They always cause disease.", correct: false },
                    { text: "They are larger than bacteria.", correct: false }
                ],
                explanation: "Obligate intracellular parasites are organisms that cannot complete their life cycle without exploiting a suitable host. Viruses lack the metabolic machinery for self-replication and must use the host cell's resources.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The Baltimore classification system categorizes viruses based on:",
                options: [
                    { text: "Their size and shape.", correct: false },
                    { text: "The diseases they cause.", correct: false },
                    { text: "Their pathway to mRNA synthesis.", correct: true },
                    { text: "Their geographical distribution.", correct: false }
                ],
                explanation: "The Baltimore classification system, developed by David Baltimore, groups viruses into seven classes based on their type of genome (DNA, RNA, single-stranded, double-stranded) and their method of mRNA synthesis and replication.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What are prions?",
                options: [
                    { text: "Small, circular RNA molecules that infect plants.", correct: false }, // This describes viroids
                    { text: "Viruses that specifically infect fungi.", correct: false },
                    { text: "Infectious protein particles that lack nucleic acid.", correct: true },
                    { text: "The protein subunits of a viral capsid.", correct: false }
                ],
                explanation: "Prions are misfolded proteins that can transmit their misfolded shape onto normal variants of the same protein. They are unique infectious agents because they lack any genetic material (DNA or RNA) and cause neurodegenerative diseases.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'latency' in viral infections refers to:",
                options: [
                    { text: "The period of rapid viral replication.", correct: false },
                    { text: "A dormant state where the virus is present but not actively replicating or causing symptoms.", correct: true },
                    { text: "The time it takes for the immune system to clear the virus.", correct: false },
                    { text: "The ability of a virus to infect multiple host species.", correct: false }
                ],
                explanation: "Viral latency is a period in which a virus remains dormant within a host cell, not actively replicating or causing disease symptoms. The virus can reactivate later. Herpesviruses are well-known for establishing latent infections.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which component of HIV is primarily responsible for binding to the CD4 receptor on host cells?",
                options: [
                    { text: "Reverse transcriptase", correct: false },
                    { text: "Integrase", correct: false },
                    { text: "gp120 (glycoprotein 120)", correct: true },
                    { text: "Capsid protein p24", correct: false }
                ],
                explanation: "The gp120 glycoprotein, located on the surface of the HIV envelope, is responsible for binding to the CD4 receptor on helper T cells and other target cells. This binding is a crucial first step in HIV infection.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Kaposi's sarcoma is a type of cancer often associated with:",
                options: [
                    { text: "Influenza infection.", correct: false },
                    { text: "Hepatitis B infection.", correct: false },
                    { text: "Advanced HIV infection (AIDS).", correct: true },
                    { text: "Rabies infection.", correct: false }
                ],
                explanation: "Kaposi's sarcoma is a cancer that causes lesions in the skin, lymph nodes, internal organs, and mucous membranes. It is caused by Human Herpesvirus 8 (HHV-8) and is much more common and aggressive in individuals with weakened immune systems, such as those with AIDS.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The 'window period' in HIV infection refers to the time:",
                options: [
                    { text: "When the infection is most contagious.", correct: false },
                    { text: "Between exposure to HIV and the development of detectable antibodies.", correct: true },
                    { text: "When opportunistic infections begin to appear.", correct: false },
                    { text: "When antiretroviral therapy is most effective.", correct: false }
                ],
                explanation: "The window period is the time lag between initial HIV infection and the point at which standard HIV antibody tests can detect antibodies in the blood. During this period, an infected person can still transmit the virus even if their antibody test is negative.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these viruses is primarily transmitted through the fecal-oral route?",
                options: [
                    { text: "Influenza virus", correct: false },
                    { text: "Hepatitis A virus", correct: true },
                    { text: "HIV", correct: false },
                    { text: "Rabies virus", correct: false }
                ],
                explanation: "Hepatitis A virus is typically transmitted through ingestion of contaminated food or water (fecal-oral route) or through direct contact with an infectious person.",
                difficulty: "Medium",
                isSpecial: false
            },
            // Adding 30 more medium questions
            {
                text: "A virus with an icosahedral capsid has a shape best described as:",
                options: [
                    { text: "Rod-like", correct: false },
                    { text: "A 20-sided polyhedron", correct: true },
                    { text: "Spiral", correct: false },
                    { text: "Irregular and pleomorphic", correct: false }
                ],
                explanation: "An icosahedral capsid is a common viral structure that forms a symmetrical, 20-sided polyhedron. This shape efficiently encloses the viral genome.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is a 'provirus' in the context of retroviral infections like HIV?",
                options: [
                    { text: "A virus that has not yet entered a host cell.", correct: false },
                    { text: "The viral RNA genome before reverse transcription.", correct: false },
                    { text: "Viral DNA that has integrated into the host cell's chromosome.", correct: true },
                    { text: "A defective virus particle that cannot replicate.", correct: false }
                ],
                explanation: "A provirus is the state of viral DNA when it is integrated into the genome of the host cell. In the case of HIV, after reverse transcription, the viral DNA is integrated into the host's DNA by the enzyme integrase, forming a provirus.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Antiretroviral therapy (ART) for HIV aims to:",
                options: [
                    { text: "Completely eradicate HIV from the body.", correct: false },
                    { text: "Boost the production of CD4+ T cells.", correct: false },
                    { text: "Suppress viral replication and slow disease progression.", correct: true },
                    { text: "Prevent initial infection with HIV.", correct: false } // That's PrEP/PEP
                ],
                explanation: "Antiretroviral therapy (ART) involves a combination of drugs that target different stages of the HIV life cycle. Its primary goal is to reduce the viral load (amount of HIV in the blood) to undetectable levels, allowing the immune system to recover and slowing the progression to AIDS.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these is a characteristic of RNA viruses that contributes to their high mutation rates?",
                options: [
                    { text: "Their DNA repair mechanisms are highly efficient.", correct: false },
                    { text: "RNA polymerase enzymes often lack proofreading ability.", correct: true },
                    { text: "They integrate into the host genome more frequently.", correct: false },
                    { text: "Their capsids are less stable than DNA virus capsids.", correct: false }
                ],
                explanation: "Many RNA viruses, particularly those that use an RNA-dependent RNA polymerase for replication, have high mutation rates because these enzymes typically lack the proofreading capabilities found in DNA polymerases. This leads to more errors during replication.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'zoonosis' refers to a disease that:",
                options: [
                    { text: "Only affects animals in zoos.", correct: false },
                    { text: "Can be transmitted from animals to humans.", correct: true },
                    { text: "Is caused exclusively by viruses.", correct: false },
                    { text: "Only affects humans.", correct: false }
                ],
                explanation: "A zoonosis is an infectious disease that is transmitted from vertebrate animals to humans. Many viral diseases, such as rabies and influenza (some strains), are zoonotic.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Viroids differ from viruses in that they:",
                options: [
                    { text: "Contain both DNA and RNA.", correct: false },
                    { text: "Are infectious protein particles.", correct: false }, // This describes prions
                    { text: "Are small, circular RNA molecules without a protein coat.", correct: true },
                    { text: "Only infect animal cells.", correct: false }
                ],
                explanation: "Viroids are the smallest known infectious agents. They consist solely of a short, circular, single-stranded RNA molecule and lack a protein capsid. They primarily cause diseases in plants.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The initial symptoms of acute HIV infection most closely resemble:",
                options: [
                    { text: "Food poisoning", correct: false },
                    { text: "A severe allergic reaction", correct: false },
                    { text: "Mononucleosis or flu-like illness", correct: true },
                    { text: "A heart attack", correct: false }
                ],
                explanation: "The acute stage of HIV infection, occurring 2-4 weeks after exposure, often presents with flu-like or mononucleosis-like symptoms such as fever, rash, sore throat, swollen lymph nodes, fatigue, and muscle aches. Many people may not recognize these as HIV symptoms.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following viral structures is composed of repeating protein subunits called capsomeres?",
                options: [
                    { text: "Envelope", correct: false },
                    { text: "Nucleic acid core", correct: false },
                    { text: "Capsid", correct: true },
                    { text: "Spike proteins", correct: false }
                ],
                explanation: "The viral capsid is made up of multiple protein subunits called capsomeres. These capsomeres self-assemble to form the characteristic shape of the capsid (e.g., helical or icosahedral).",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A virus that has RNA as its genetic material and replicates via a DNA intermediate is known as a:",
                options: [
                    { text: "Typical RNA virus", correct: false },
                    { text: "DNA virus", correct: false },
                    { text: "Retrovirus", correct: true },
                    { text: "Bacteriophage", correct: false }
                ],
                explanation: "Retroviruses, like HIV, are RNA viruses that use the enzyme reverse transcriptase to produce a DNA copy of their RNA genome. This DNA copy (provirus) then integrates into the host cell's DNA.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The most common type of HIV worldwide is:",
                options: [
                    { text: "HIV-1", correct: true },
                    { text: "HIV-2", correct: false },
                    { text: "HIV-A", correct: false },
                    { text: "SIV (Simian Immunodeficiency Virus)", correct: false }
                ],
                explanation: "There are two main types of HIV: HIV-1 and HIV-2. HIV-1 is more common globally and is responsible for the vast majority of AIDS cases. HIV-2 is less common and is primarily found in West Africa.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these bodily fluids has the HIGHEST concentration of HIV in an infected, untreated individual?",
                options: [
                    { text: "Saliva", correct: false },
                    { text: "Tears", correct: false },
                    { text: "Blood", correct: true },
                    { text: "Sweat", correct: false }
                ],
                explanation: "HIV is present in various body fluids, but the concentration varies. Blood, semen, and cerebrospinal fluid generally have the highest concentrations of the virus. Saliva, tears, and sweat contain very low to undetectable levels and are not considered routes of transmission.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The destruction of which specific cells leads to the immunodeficiency seen in AIDS?",
                options: [
                    { text: "B-lymphocytes", correct: false },
                    { text: "CD4+ T-lymphocytes (Helper T-cells)", correct: true },
                    { text: "CD8+ T-lymphocytes (Cytotoxic T-cells)", correct: false },
                    { text: "Macrophages", correct: false }
                ],
                explanation: "HIV primarily targets and destroys CD4+ T-lymphocytes (Helper T-cells). These cells play a central role in coordinating the immune response. Their depletion cripples the immune system.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A viral pandemic is defined as:",
                options: [
                    { text: "A localized outbreak of a viral disease.", correct: false },
                    { text: "A viral disease that only affects animals.", correct: false },
                    { text: "A global outbreak of a new viral disease affecting a large number of people.", correct: true },
                    { text: "A viral disease that is always present in a specific population.", correct: false } // This is endemic
                ],
                explanation: "A pandemic is an epidemic of an infectious disease that has spread across a large region, for instance multiple continents or worldwide, affecting a substantial number of people. The emergence of a new virus to which people have little immunity often triggers a pandemic.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the primary function of viral spike proteins (peplomers)?",
                options: [
                    { text: "To replicate the viral genome.", correct: false },
                    { text: "To attach to host cell receptors and facilitate entry.", correct: true },
                    { text: "To assemble new capsid proteins.", correct: false },
                    { text: "To degrade the host cell membrane upon exit.", correct: false }
                ],
                explanation: "Viral spike proteins, also known as peplomers, are found on the surface of enveloped viruses (and some non-enveloped ones). They are crucial for recognizing and binding to specific receptors on the host cell surface, initiating the process of viral entry.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The process by which a virus acquires its envelope is typically:",
                options: [
                    { text: "Self-assembly from proteins synthesized in the cytoplasm.", correct: false },
                    { text: "Budding through a host cell membrane (e.g., plasma membrane, ER, Golgi).", correct: true },
                    { text: "Secretion by specialized viral glands.", correct: false },
                    { text: "Uptake from the extracellular environment.", correct: false }
                ],
                explanation: "Enveloped viruses acquire their lipid envelope by budding through a host cell membrane. As the newly formed virion exits the cell, it becomes wrapped in a portion of the host membrane, which is modified with viral proteins.",
                difficulty: "Medium",
                isSpecial: false
            },
             {
                text: "Which of the following is a DNA virus known to cause liver disease?",
                options: [
                    { text: "Hepatitis A Virus (HAV)", correct: false }, // RNA virus
                    { text: "Hepatitis B Virus (HBV)", correct: true },
                    { text: "Hepatitis C Virus (HCV)", correct: false }, // RNA virus
                    { text: "Influenza Virus", correct: false }
                ],
                explanation: "Hepatitis B Virus (HBV) is a DNA virus that infects liver cells and can cause acute and chronic hepatitis, cirrhosis, and liver cancer. HAV and HCV are RNA viruses that also cause hepatitis.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'viral load' in HIV infection refers to:",
                options: [
                    { text: "The number of CD4+ T-cells in the blood.", correct: false },
                    { text: "The amount of HIV genetic material (RNA) in the blood.", correct: true },
                    { text: "The total weight of virus particles in the body.", correct: false },
                    { text: "The number of different HIV strains present.", correct: false }
                ],
                explanation: "Viral load is a measure of the number of copies of HIV RNA per milliliter of blood. It indicates how actively the virus is replicating. A high viral load is associated with faster disease progression, while successful ART reduces it to undetectable levels.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the significance of a CD4+ T-cell count in monitoring HIV infection?",
                options: [
                    { text: "It directly measures the amount of virus in the blood.", correct: false },
                    { text: "It indicates the strength of the immune system and stage of HIV disease.", correct: true },
                    { text: "It determines the specific strain of HIV infecting the person.", correct: false },
                    { text: "It is primarily used to diagnose initial HIV infection.", correct: false }
                ],
                explanation: "The CD4+ T-cell count is a key indicator of immune system health. As HIV progresses, it destroys these cells. A low CD4 count signifies a weakened immune system and an increased risk of opportunistic infections, indicating progression towards AIDS.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these is a common characteristic of retroviruses?",
                options: [
                    { text: "They have a DNA genome.", correct: false },
                    { text: "They replicate exclusively in the cytoplasm.", correct: false }, // Integration into nucleus
                    { text: "They use an enzyme called reverse transcriptase.", correct: true },
                    { text: "They primarily infect plant cells.", correct: false }
                ],
                explanation: "Retroviruses are characterized by their RNA genome and the presence of the enzyme reverse transcriptase, which converts their RNA into DNA. This DNA (provirus) is then integrated into the host cell's genome.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The primary reason AIDS patients are susceptible to opportunistic infections is:",
                options: [
                    { text: "The virus directly attacks all body organs.", correct: false },
                    { text: "A severely compromised and depleted immune system.", correct: true },
                    { text: "Malnutrition caused by the virus.", correct: false },
                    { text: "The side effects of antiretroviral drugs.", correct: false }
                ],
                explanation: "AIDS is defined by severe immunodeficiency resulting from the destruction of CD4+ T-cells by HIV. This leaves the body vulnerable to infections and cancers that a healthy immune system would normally control.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these is NOT a recognized structural component of all viruses?",
                options: [
                    { text: "Nucleic acid (DNA or RNA)", correct: false },
                    { text: "Capsid (protein coat)", correct: false },
                    { text: "Mitochondria", correct: true },
                    { text: "Some form of protein", correct: false } // Capsid is protein
                ],
                explanation: "All viruses possess genetic material (either DNA or RNA) and a protein coat (capsid). Mitochondria are cellular organelles responsible for energy production and are found in eukaryotic cells, not in acellular viruses.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The classification of viruses as 'ssRNA+' (positive-sense single-stranded RNA) means that:",
                options: [
                    { text: "Their RNA needs to be converted to a complementary strand before translation.", correct: false },
                    { text: "Their RNA can be directly translated into proteins by host ribosomes.", correct: true },
                    { text: "They contain two identical strands of RNA.", correct: false },
                    { text: "Their RNA is transcribed into DNA first.", correct: false } // This is for retroviruses
                ],
                explanation: "Positive-sense ssRNA viruses have an RNA genome that can directly serve as messenger RNA (mRNA) and be translated into viral proteins by the host cell's ribosomes upon entry.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "How is HIV typically diagnosed?",
                options: [
                    { text: "By observing symptoms of the common cold.", correct: false },
                    { text: "Through tests that detect HIV antibodies or antigens, or viral RNA.", correct: true },
                    { text: "By a simple blood count showing low white blood cells.", correct: false },
                    { text: "Culturing the virus from a throat swab.", correct: false }
                ],
                explanation: "HIV diagnosis usually involves blood or saliva tests that detect antibodies to HIV, HIV antigens (like p24), or HIV RNA (viral load tests). Symptoms alone are not sufficient for diagnosis.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following is a method of preventing sexual transmission of HIV?",
                options: [
                    { text: "Regularly washing hands.", correct: false },
                    { text: "Consistent and correct use of condoms.", correct: true },
                    { text: "Taking antibiotics before sexual activity.", correct: false },
                    { text: "Avoiding public swimming pools.", correct: false }
                ],
                explanation: "Consistent and correct use of condoms during sexual activity is a highly effective method for preventing the transmission of HIV and other sexually transmitted infections.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'icosahedral symmetry' in virology refers to a capsid structure that is:",
                options: [
                    { text: "Rod-shaped or filamentous.", correct: false },
                    { text: "A complex structure with a head and tail.", correct: false }, // Bacteriophage
                    { text: "A spherical-like structure with 20 triangular faces.", correct: true },
                    { text: "Lacking any defined symmetry.", correct: false }
                ],
                explanation: "Icosahedral symmetry describes a capsid that forms a polyhedron with 20 equilateral triangular faces and 12 vertices. This structure provides a strong, stable container for the viral genome with a minimum number of protein subunits.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is a common feature of the early (acute) stage of HIV infection?",
                options: [
                    { text: "Very low viral load.", correct: false },
                    { text: "Absence of any symptoms in all individuals.", correct: false },
                    { text: "High levels of viral replication and a flu-like illness.", correct: true },
                    { text: "Development of severe opportunistic infections.", correct: false }
                ],
                explanation: "The acute HIV infection stage, typically 2-4 weeks after exposure, is characterized by rapid and high levels of viral replication. Many individuals experience flu-like symptoms during this period as the immune system responds.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these is NOT a type of host that viruses can infect?",
                options: [
                    { text: "Animals", correct: false },
                    { text: "Plants", correct: false },
                    { text: "Bacteria", correct: false },
                    { text: "Non-living matter (e.g., rocks)", correct: true }
                ],
                explanation: "Viruses are obligate intracellular parasites and require living host cells to replicate. They can infect all forms of life, including animals, plants, fungi, protists, and bacteria/archaea, but not non-living matter.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The main goal of HIV prevention strategies is to:",
                options: [
                    { text: "Find a cure for AIDS.", correct: false },
                    { text: "Reduce the transmission of HIV.", correct: true },
                    { text: "Develop stronger antibiotics.", correct: false },
                    { text: "Improve hospital sanitation.", correct: false } // Important, but not primary for HIV
                ],
                explanation: "HIV prevention strategies focus on reducing the risk of HIV transmission through various means, including promoting safe sex practices, providing clean needles for injection drug users, preventing mother-to-child transmission, and increasing awareness and testing.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A 'naked' virus is one that lacks:",
                options: [
                    { text: "A capsid.", correct: false },
                    { text: "Nucleic acid.", correct: false },
                    { text: "An envelope.", correct: true },
                    { text: "Spike proteins.", correct: false } // Spike proteins are usually on envelope, but capsid can have attachment proteins
                ],
                explanation: "A naked virus, or non-enveloped virus, consists only of a nucleic acid core and a protein capsid. It does not have an outer lipid envelope. These viruses are often more resistant to environmental conditions than enveloped viruses.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Tuberculosis (TB) in an AIDS patient is considered:",
                options: [
                    { text: "A primary cause of HIV infection.", correct: false },
                    { text: "An opportunistic infection.", correct: true },
                    { text: "A rare complication.", correct: false },
                    { text: "A sign of a strengthening immune system.", correct: false }
                ],
                explanation: "Tuberculosis is a common and often severe opportunistic infection in individuals with AIDS. The weakened immune system due to HIV makes it difficult for the body to control Mycobacterium tuberculosis, the bacterium that causes TB.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the role of the enzyme protease in the HIV life cycle?",
                options: [
                    { text: "It helps the virus enter the host cell.", correct: false },
                    { text: "It copies the viral RNA into DNA.", correct: false },
                    { text: "It cleaves newly synthesized viral polyproteins into smaller, functional proteins.", correct: true },
                    { text: "It integrates the viral DNA into the host chromosome.", correct: false }
                ],
                explanation: "During HIV replication, viral genes are translated into large polyproteins. The HIV protease enzyme is essential for cleaving these polyproteins into individual, functional enzymes and structural proteins needed to assemble new virions. Protease inhibitors are a class of ART drugs.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which type of viral nucleic acid can be directly used as mRNA by host cell ribosomes?",
                options: [
                    { text: "Double-stranded DNA (dsDNA)", correct: false }, // Needs transcription
                    { text: "Single-stranded DNA (ssDNA)", correct: false }, // Needs conversion to dsDNA then transcription
                    { text: "Positive-sense single-stranded RNA (+ssRNA)", correct: true },
                    { text: "Negative-sense single-stranded RNA (-ssRNA)", correct: false } // Needs transcription to +ssRNA
                ],
                explanation: "Positive-sense single-stranded RNA (+ssRNA) viral genomes can act directly as messenger RNA (mRNA) upon entering the host cell. Host ribosomes can immediately translate this RNA into viral proteins.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The process of a virus releasing its genetic material into the host cell cytoplasm is called:",
                options: [
                    { text: "Attachment", correct: false },
                    { text: "Penetration", correct: false },
                    { text: "Uncoating", correct: true },
                    { text: "Assembly", correct: false }
                ],
                explanation: "Uncoating is the stage in viral replication where the viral capsid is removed, releasing the viral nucleic acid (genome) into the host cell's cytoplasm or nucleus, allowing replication to begin.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following is a characteristic of the Herpesviridae family of viruses (e.g., Herpes Simplex Virus)?",
                options: [
                    { text: "They are RNA viruses.", correct: false },
                    { text: "They are known for establishing latent infections.", correct: true },
                    { text: "They primarily infect plants.", correct: false },
                    { text: "They lack a viral envelope.", correct: false }
                ],
                explanation: "Herpesviruses are enveloped, double-stranded DNA viruses. A key characteristic is their ability to establish lifelong latent infections in their hosts, with periodic reactivation causing recurrent disease (e.g., cold sores from HSV-1).",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Mother-to-child transmission (MTCT) of HIV can occur during:",
                options: [
                    { text: "Pregnancy only.", correct: false },
                    { text: "Childbirth only.", correct: false },
                    { text: "Breastfeeding only.", correct: false },
                    { text: "Pregnancy, childbirth, or breastfeeding.", correct: true }
                ],
                explanation: "HIV can be transmitted from an infected mother to her child during pregnancy (across the placenta), during labor and delivery (exposure to maternal blood and fluids), or through breastfeeding.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'seroconversion' in the context of HIV infection means:",
                options: [
                    { text: "The virus has been completely cleared from the body.", correct: false },
                    { text: "The development of detectable antibodies to HIV in the blood.", correct: true },
                    { text: "The virus has mutated into a new strain.", correct: false },
                    { text: "The onset of severe AIDS-defining illnesses.", correct: false }
                ],
                explanation: "Seroconversion is the point in time when an individual's immune system begins to produce detectable levels of antibodies against a specific pathogen, such as HIV, following infection. HIV tests often look for these antibodies.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A virus that causes warts, such as Human Papillomavirus (HPV), is classified as a:",
                options: [
                    { text: "Retrovirus", correct: false },
                    { text: "DNA virus", correct: true },
                    { text: "Picornavirus (RNA virus)", correct: false },
                    { text: "Influenza virus (RNA virus)", correct: false }
                ],
                explanation: "Human Papillomavirus (HPV) is a DNA virus. There are many types of HPV, some causing common skin warts, others genital warts, and some high-risk types are associated with cancers, including cervical cancer.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the primary structural difference between an enveloped virus and a non-enveloped (naked) virus?",
                options: [
                    { text: "Type of nucleic acid.", correct: false },
                    { text: "Presence or absence of a lipid bilayer surrounding the capsid.", correct: true },
                    { text: "Shape of the capsid.", correct: false },
                    { text: "Size of the virion.", correct: false }
                ],
                explanation: "The key difference is the presence of an outer lipid envelope. Enveloped viruses have this lipid bilayer (derived from host cell membranes) surrounding their capsid, while non-enveloped viruses only have the capsid enclosing their nucleic acid.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of these diseases is NOT caused by a virus?",
                options: [
                    { text: "Measles", correct: false },
                    { text: "Polio", correct: false },
                    { text: "Tetanus", correct: true }, // Caused by bacteria Clostridium tetani
                    { text: "Rabies", correct: false }
                ],
                explanation: "Measles, polio, and rabies are all caused by viruses. Tetanus (lockjaw) is a bacterial disease caused by toxins produced by Clostridium tetani.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The genetic material in most plant viruses is:",
                options: [
                    { text: "Double-stranded DNA", correct: false },
                    { text: "Single-stranded DNA", correct: false },
                    { text: "Single-stranded RNA", correct: true },
                    { text: "Double-stranded RNA", correct: false }
                ],
                explanation: "The vast majority of known plant viruses have genomes composed of single-stranded RNA (+ssRNA being the most common). However, other types of viral genomes also exist in plant viruses.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is meant by 'host range' of a virus?",
                options: [
                    { text: "The geographical area where the virus is found.", correct: false },
                    { text: "The spectrum of host cells or species a virus can infect.", correct: true },
                    { text: "The temperature range in which the virus can survive.", correct: false },
                    { text: "The size range of the virus particles.", correct: false }
                ],
                explanation: "The host range of a virus refers to the specific types of cells, tissues, or species that it is capable of infecting. This is often determined by the presence of specific host cell receptors that the virus can bind to.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The common cold is most frequently caused by which group of viruses?",
                options: [
                    { text: "Influenza viruses", correct: false },
                    { text: "Rhinoviruses", correct: true },
                    { text: "Adenoviruses", correct: false }, // Can cause colds, but less frequent than Rhino
                    { text: "Coronaviruses (other than SARS-CoV-2)", correct: false } // Can cause colds, but less frequent than Rhino
                ],
                explanation: "Rhinoviruses are the most common cause of the common cold, responsible for a significant percentage of cases. Other viruses like some coronaviruses, adenoviruses, and respiratory syncytial virus (RSV) can also cause cold-like symptoms.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is a significant challenge in developing a broadly effective vaccine for HIV?",
                options: [
                    { text: "HIV replicates too slowly.", correct: false },
                    { text: "The virus has a very stable and unchanging genetic code.", correct: false },
                    { text: "The high mutation rate of HIV leads to many different strains and rapid evolution.", correct: true },
                    { text: "HIV does not elicit a strong immune response.", correct: false } // It does, but it targets immune cells
                ],
                explanation: "A major challenge in HIV vaccine development is the virus's high mutation rate. This leads to the rapid emergence of diverse strains (quasispecies), making it difficult for a single vaccine to provide broad protection against all variants.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The term 'cytopathic effect' (CPE) refers to:",
                options: [
                    { text: "The ability of a virus to integrate into the host genome.", correct: false },
                    { text: "Structural changes or damage to host cells caused by viral infection.", correct: true },
                    { text: "The immune response mounted by the host against the virus.", correct: false },
                    { text: "The process of viral budding from the host cell.", correct: false }
                ],
                explanation: "Cytopathic effect (CPE) describes the visible damage or changes that occur in host cells as a result of viral infection. This can include cell lysis, formation of syncytia (fused cells), inclusion bodies, or changes in cell shape.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following is a primary target for antiretroviral drugs that are protease inhibitors?",
                options: [
                    { text: "Viral attachment to host cells.", correct: false },
                    { text: "The enzyme reverse transcriptase.", correct: false },
                    { text: "The cleavage of viral polyproteins into functional proteins.", correct: true },
                    { text: "The integration of viral DNA into host DNA.", correct: false }
                ],
                explanation: "Protease inhibitors are a class of antiretroviral drugs that block the action of the HIV protease enzyme. This enzyme is crucial for cutting long viral polyproteins into smaller, functional proteins needed to assemble new, infectious virions.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "A key difference between viruses and bacteria is that viruses:",
                options: [
                    { text: "Are prokaryotic cells.", correct: false }, // Bacteria are prokaryotic
                    { text: "Can be treated with antibiotics.", correct: false }, // Antibiotics target bacteria
                    { text: "Are acellular and require a host to replicate.", correct: true },
                    { text: "Possess ribosomes for protein synthesis.", correct: false } // Viruses use host ribosomes
                ],
                explanation: "Viruses are acellular (not made of cells) and are obligate intracellular parasites, meaning they must infect a host cell to use its machinery for replication. Bacteria are cellular (prokaryotic) organisms that can reproduce independently and have their own ribosomes. Antibiotics are ineffective against viruses.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The 'eclipse period' in a viral replication cycle refers to the time when:",
                options: [
                    { text: "Mature virions are being released from the host cell.", correct: false },
                    { text: "No infectious virus particles can be detected inside or outside the cell after infection.", correct: true },
                    { text: "The virus is attaching to the host cell surface.", correct: false },
                    { text: "The viral genome is being actively transcribed and translated.", correct: false }
                ],
                explanation: "The eclipse period is the initial phase of viral replication after the virus has entered the host cell and uncoated. During this time, the viral genome is being replicated and viral proteins are being synthesized, but no complete, infectious virions have yet been assembled. Thus, infectious virus cannot be detected.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following statements about viral envelopes is correct?",
                options: [
                    { text: "All viruses possess an envelope.", correct: false },
                    { text: "The envelope is synthesized entirely by viral enzymes.", correct: false },
                    { text: "It is primarily composed of proteins and nucleic acids.", correct: false },
                    { text: "It is derived from host cell membranes and contains viral glycoproteins.", correct: true }
                ],
                explanation: "Not all viruses have an envelope (naked viruses do not). The envelope is a lipid bilayer derived from the host cell's plasma membrane or internal membranes during the process of budding. It is studded with virus-encoded glycoproteins (spikes) that are important for attachment and entry.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "What is the main reason that a single individual can be infected with the common cold multiple times, even within the same year?",
                options: [
                    { text: "The viruses become resistant to medication quickly.", correct: false },
                    { text: "There are many different types and serotypes of viruses that cause colds (e.g., >100 rhinoviruses).", correct: true },
                    { text: "The immune system does not develop memory against cold viruses.", correct: false }, // It does, but to specific serotypes
                    { text: "Cold viruses can remain latent in the body for years.", correct: false } // Not typical for common cold viruses
                ],
                explanation: "The common cold can be caused by a large number of different viruses, most notably over 100 serotypes of rhinoviruses, as well as various coronaviruses, adenoviruses, etc. Immunity to one type does not confer immunity to others, leading to recurrent infections.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "The human immunodeficiency virus (HIV) primarily targets which type of cells, leading to the progressive failure of the immune system?",
                options: [
                    { text: "B lymphocytes", correct: false },
                    { text: "Neutrophils", correct: false },
                    { text: "CD4+ T lymphocytes (Helper T cells)", correct: true },
                    { text: "Erythrocytes (Red blood cells)", correct: false }
                ],
                explanation: "HIV has a specific tropism for CD4+ T lymphocytes, also known as helper T cells. These cells are critical for coordinating virtually all aspects of the adaptive immune response. Their destruction by HIV leads to severe immunodeficiency.",
                difficulty: "Medium",
                isSpecial: false
            },
            {
                text: "Which of the following is NOT a common opportunistic infection associated with AIDS?",
                options: [
                    { text: "Pneumocystis jirovecii pneumonia (PCP)", correct: false },
                    { text: "Kaposi's sarcoma", correct: false },
                    { text: "Tuberculosis", correct: false },
                    { text: "Seasonal influenza in an otherwise healthy adult", correct: true }
                ],
                explanation: "Seasonal influenza can affect anyone, but in AIDS patients, it can be more severe. However, PCP, Kaposi's sarcoma (caused by HHV-8), and tuberculosis are classic opportunistic conditions that thrive due to the severely weakened immune system in AIDS.",
                difficulty: "Medium",
                isSpecial: false
            },


            // --- TOUGH QUESTIONS (40) ---
            {
                text: "The main target cells for HIV in the human immune system are:",
                options: [
                    { text: "B lymphocytes", correct: false },
                    { text: "CD4+ T lymphocytes (Helper T cells)", correct: true },
                    { text: "Neutrophils", correct: false },
                    { text: "Red blood cells", correct: false }
                ],
                explanation: "HIV primarily infects and destroys CD4+ T lymphocytes (Helper T cells). These cells are crucial for coordinating the immune response. Their depletion severely weakens the immune system, leading to AIDS.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the significance of the viral envelope, if present?",
                options: [
                    { text: "It is the primary site of viral DNA replication.", correct: false },
                    { text: "It is derived from the host cell membrane and helps in viral entry.", correct: true },
                    { text: "It contains the virus's own ribosomes for protein synthesis.", correct: false },
                    { text: "It protects the virus from all types of disinfectants.", correct: false }
                ],
                explanation: "The viral envelope is a lipid bilayer derived from host cell membranes. It contains viral glycoproteins (spikes) that are essential for recognizing and binding to host cell receptors, facilitating viral entry. Enveloped viruses are often more susceptible to lipid-disrupting disinfectants.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which of the following symptoms is NOT typically associated with the late stages of AIDS (opportunistic infections)?",
                options: [
                    { text: "Pneumocystis pneumonia (PCP)", correct: false },
                    { text: "Kaposi's sarcoma", correct: false },
                    { text: "Increased muscle mass and strength", correct: true },
                    { text: "Severe weight loss (wasting syndrome)", correct: false }
                ],
                explanation: "Late-stage AIDS is characterized by severe immunodeficiency, leading to opportunistic infections (like PCP), cancers (like Kaposi's sarcoma), and wasting syndrome. Increased muscle mass is not a symptom; muscle wasting is more likely.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The enzyme 'reverse transcriptase' is characteristic of which group of viruses?",
                options: [
                    { text: "Adenoviruses (DNA viruses)", correct: false },
                    { text: "Retroviruses (e.g., HIV)", correct: true },
                    { text: "Herpesviruses (DNA viruses)", correct: false },
                    { text: "Influenza viruses (RNA viruses, but not retroviruses)", correct: false }
                ],
                explanation: "Reverse transcriptase is a hallmark enzyme of retroviruses. It transcribes the viral RNA genome into a DNA copy (cDNA), which is a crucial step in their replication cycle.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The genetic diversity of HIV within an infected individual, known as quasispecies, is primarily a result of:",
                options: [
                    { text: "The host's immune response selecting for specific variants.", correct: false }, // Contributes, but not primary cause of generation
                    { text: "The high error rate of the viral reverse transcriptase enzyme.", correct: true },
                    { text: "Recombination events with the host cell's DNA.", correct: false },
                    { text: "The virus acquiring genes from other co-infecting viruses.", correct: false }
                ],
                explanation: "HIV's reverse transcriptase lacks proofreading capability, leading to a high mutation rate during the conversion of viral RNA to DNA. This results in a diverse population of viral variants (quasispecies) within a single host, posing challenges for treatment and vaccine development.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which statement best describes the role of co-receptors (like CCR5 or CXCR4) in HIV infection?",
                options: [
                    { text: "They are the primary receptors HIV binds to on any cell type.", correct: false },
                    { text: "They are enzymes that help HIV replicate its RNA.", correct: false },
                    { text: "They are required, in addition to CD4, for HIV to efficiently enter target cells.", correct: true },
                    { text: "They are responsible for the latency of HIV in infected cells.", correct: false }
                ],
                explanation: "For HIV to enter a target cell, it must first bind to the CD4 receptor and then to a co-receptor, typically CCR5 or CXCR4. These co-receptors are chemokine receptors found on the surface of immune cells. The type of co-receptor used can influence viral tropism.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the underlying mechanism of action for Non-Nucleoside Reverse Transcriptase Inhibitors (NNRTIs) used in ART?",
                options: [
                    { text: "They act as chain terminators by incorporating into the growing viral DNA strand.", correct: false }, // This is NRTIs
                    { text: "They bind directly to the reverse transcriptase enzyme at a site distinct from the active site, altering its function.", correct: true },
                    { text: "They block the HIV protease enzyme from cleaving polyproteins.", correct: false }, // This is Protease Inhibitors
                    { text: "They prevent the fusion of the viral envelope with the host cell membrane.", correct: false } // This is Fusion Inhibitors
                ],
                explanation: "NNRTIs bind to an allosteric site (a site other than the active site) on the reverse transcriptase enzyme. This binding changes the enzyme's conformation and inhibits its activity, preventing the conversion of viral RNA to DNA.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The phenomenon where a bacteriophage in the lysogenic cycle can confer new properties to the host bacterium (e.g., toxin production) is known as:",
                options: [
                    { text: "Transduction", correct: false }, // Transduction is gene transfer by phage
                    { text: "Lysogenic conversion (or phage conversion)", correct: true },
                    { text: "Transformation", correct: false }, // Transformation is uptake of free DNA
                    { text: "Conjugation", correct: false } // Conjugation is direct cell-to-cell DNA transfer
                ],
                explanation: "Lysogenic conversion occurs when a prophage (integrated viral DNA) carries genes that alter the phenotype of the host bacterium. For example, the genes for diphtheria toxin and cholera toxin are carried by prophages.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which of the following viruses is known for its segmented RNA genome, which allows for genetic reassortment (antigenic shift) and the emergence of new pandemic strains?",
                options: [
                    { text: "Herpes Simplex Virus", correct: false }, // dsDNA, not segmented
                    { text: "Influenza Virus", correct: true },
                    { text: "Poliovirus", correct: false }, // +ssRNA, not segmented
                    { text: "HIV", correct: false } // Diploid +ssRNA, but reassortment is different mechanism than influenza
                ],
                explanation: "Influenza A viruses have a genome consisting of 8 separate RNA segments. If a host cell is co-infected with two different influenza strains, these segments can reassort during viral assembly, creating new viral strains with a mix of genes. This antigenic shift can lead to pandemics.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The 'Tat' protein of HIV plays a crucial role in:",
                options: [
                    { text: "Facilitating viral entry into the host cell.", correct: false },
                    { text: "Significantly enhancing the transcription of the HIV provirus.", correct: true },
                    { text: "Catalyzing the reverse transcription of viral RNA.", correct: false },
                    { text: "Mediating the assembly of new virions.", correct: false }
                ],
                explanation: "Tat (Trans-Activator of Transcription) is an HIV regulatory protein that dramatically increases the rate of transcription from the integrated HIV proviral DNA by interacting with a specific RNA sequence called TAR (Trans-activation response element) located at the 5' end of viral transcripts.",
                difficulty: "Tough",
                isSpecial: false
            },
            // Adding 30 more tough questions
            {
                text: "What is the primary difference in the replication strategy between a positive-sense ssRNA virus and a negative-sense ssRNA virus?",
                options: [
                    { text: "Positive-sense viruses integrate into the host genome, negative-sense do not.", correct: false },
                    { text: "Negative-sense viruses must carry their own RNA-dependent RNA polymerase into the host cell.", correct: true },
                    { text: "Positive-sense viruses use reverse transcriptase, negative-sense do not.", correct: false },
                    { text: "Negative-sense viruses directly use host ribosomes for translation, positive-sense do not.", correct: false }
                ],
                explanation: "Negative-sense ssRNA (-ssRNA) cannot be directly translated. It must first be transcribed into a positive-sense (+ssRNA) strand by an RNA-dependent RNA polymerase (RdRp). Since host cells don't have this enzyme, -ssRNA viruses must package their own RdRp within the virion.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The concept of 'viral tropism' refers to:",
                options: [
                    { text: "The speed at which a virus replicates.", correct: false },
                    { text: "The ability of a virus to cause disease.", correct: false },
                    { text: "The specific cells, tissues, or host species that a virus can infect.", correct: true },
                    { text: "The mechanism by which a virus evades the immune system.", correct: false }
                ],
                explanation: "Viral tropism describes the predilection of a virus to infect certain types of cells or tissues within a host, or specific host species. This is often determined by the presence of specific cell surface receptors and intracellular factors required for viral replication.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "How do interferons contribute to the host's defense against viral infections?",
                options: [
                    { text: "They directly neutralize virus particles in the bloodstream.", correct: false },
                    { text: "They induce an antiviral state in uninfected neighboring cells, making them resistant to infection.", correct: true },
                    { text: "They mark infected cells for destruction by cytotoxic T lymphocytes.", correct: false },
                    { text: "They block viral attachment to host cell receptors.", correct: false }
                ],
                explanation: "Interferons are signaling proteins released by virus-infected cells. They bind to receptors on nearby uninfected cells, inducing the production of antiviral proteins that inhibit viral replication, thus creating an antiviral state and limiting the spread of infection.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Syncytia formation, sometimes observed in HIV-infected cell cultures, refers to:",
                options: [
                    { text: "The rapid lysis of infected cells.", correct: false },
                    { text: "The fusion of an infected cell with multiple uninfected cells, forming a giant multinucleated cell.", correct: true },
                    { text: "The encapsulation of virus particles within host cell vacuoles.", correct: false },
                    { text: "The aggregation of free virus particles into large clumps.", correct: false }
                ],
                explanation: "Syncytia (singular: syncytium) are large, multinucleated cells formed by the fusion of multiple individual cells. Some viruses, including HIV, can induce cell fusion between an infected cell expressing viral fusion proteins on its surface and neighboring uninfected CD4+ cells.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the primary mechanism by which Human Papillomavirus (HPV) can lead to cancer?",
                options: [
                    { text: "By causing chronic inflammation that damages DNA.", correct: false },
                    { text: "By integrating its genome near cellular oncogenes, activating them.", correct: false }, // More complex than just integration
                    { text: "By producing viral proteins (e.g., E6 and E7) that inactivate host tumor suppressor proteins like p53 and pRb.", correct: true },
                    { text: "By directly lysing cells and triggering uncontrolled cell division as a repair mechanism.", correct: false }
                ],
                explanation: "High-risk HPV types produce oncoproteins, notably E6 and E7. E6 promotes the degradation of the tumor suppressor protein p53, and E7 binds to and inactivates the retinoblastoma protein (pRb). Inactivation of these key cell cycle regulators leads to uncontrolled cell proliferation and can result in cancer.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The term 'antigenic drift' in influenza viruses refers to:",
                options: [
                    { text: "Major genetic reassortment between different viral strains, leading to new subtypes.", correct: false }, // This is antigenic shift
                    { text: "The gradual accumulation of point mutations in the genes encoding surface glycoproteins (HA and NA).", correct: true },
                    { text: "The virus switching its preferred host species.", correct: false },
                    { text: "The development of drug resistance by the virus.", correct: false }
                ],
                explanation: "Antigenic drift is a process where small, gradual changes (point mutations) occur in the genes of influenza viruses that code for the main surface proteins, hemagglutinin (HA) and neuraminidase (NA). These changes can lead to new viral strains that the immune system may not fully recognize, causing seasonal epidemics.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the role of the 'Rev' protein in the HIV life cycle?",
                options: [
                    { text: "It facilitates the nuclear export of unspliced or singly spliced viral RNAs.", correct: true },
                    { text: "It is the main structural protein of the viral capsid.", correct: false },
                    { text: "It acts as a co-receptor for viral entry.", correct: false },
                    { text: "It degrades host cell mRNA to favor viral mRNA translation.", correct: false }
                ],
                explanation: "The Rev (Regulator of Virion Expression) protein of HIV is crucial for the later stages of viral gene expression. It binds to the Rev Responsive Element (RRE) on unspliced and singly spliced viral RNAs, mediating their export from the nucleus to the cytoplasm for translation into structural proteins and packaging into new virions.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which of these viral families includes members that are known to be oncogenic (cancer-causing) in humans?",
                options: [
                    { text: "Picornaviridae (e.g., Poliovirus)", correct: false },
                    { text: "Retroviridae (e.g., HTLV-1, not just HIV), Papillomaviridae (e.g., HPV), Herpesviridae (e.g., EBV, HHV-8)", correct: true },
                    { text: "Rhabdoviridae (e.g., Rabies virus)", correct: false },
                    { text: "Filoviridae (e.g., Ebola virus)", correct: false }
                ],
                explanation: "Several viral families contain human oncogenic viruses. Examples include Retroviridae (HTLV-1 causes adult T-cell leukemia/lymphoma), Papillomaviridae (high-risk HPVs cause cervical and other cancers), and Herpesviridae (Epstein-Barr Virus is linked to Burkitt's lymphoma and nasopharyngeal carcinoma; HHV-8 causes Kaposi's sarcoma).",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The 'Dane particle' is the complete, infectious virion of which virus?",
                options: [
                    { text: "Influenza A virus", correct: false },
                    { text: "Hepatitis B virus (HBV)", correct: true },
                    { text: "Human Immunodeficiency Virus (HIV)", correct: false },
                    { text: "Herpes Simplex Virus (HSV)", correct: false }
                ],
                explanation: "The Dane particle is the term for the complete, infectious virion of Hepatitis B virus (HBV). It is a spherical particle about 42 nm in diameter, consisting of an outer envelope containing HBsAg and an inner nucleocapsid core containing HBcAg, HBeAg, viral DNA, and DNA polymerase.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is a key characteristic of the genome of Parvoviruses?",
                options: [
                    { text: "They have a large, double-stranded RNA genome.", correct: false },
                    { text: "They possess a small, single-stranded DNA genome.", correct: true },
                    { text: "Their genome is segmented into multiple RNA pieces.", correct: false },
                    { text: "They are retroviruses with a diploid RNA genome.", correct: false }
                ],
                explanation: "Parvoviruses are among the smallest known DNA viruses. They are characterized by having a small (around 5 kilobases) linear, single-stranded DNA genome. Parvovirus B19 is a human pathogen causing fifth disease.",
                difficulty: "Tough",
                isSpecial: false
            },
             {
                text: "The mechanism by which some viruses, like influenza, exit the host cell without immediately causing cell lysis is called:",
                options: [
                    { text: "Apoptosis", correct: false },
                    { text: "Budding", correct: true },
                    { text: "Exocytosis", correct: false }, // Similar but budding is more specific for enveloped viruses
                    { text: "Phagocytosis", correct: false }
                ],
                explanation: "Enveloped viruses, such as influenza and HIV, typically exit the host cell through a process called budding. During budding, the newly formed virion acquires its lipid envelope from the host cell membrane (e.g., plasma membrane) as it is extruded from the cell. This process does not necessarily lyse the cell immediately.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which class of antiretroviral drugs for HIV works by preventing the viral DNA from being incorporated into the host cell's chromosome?",
                options: [
                    { text: "Nucleoside Reverse Transcriptase Inhibitors (NRTIs)", correct: false },
                    { text: "Protease Inhibitors (PIs)", correct: false },
                    { text: "Integrase Strand Transfer Inhibitors (INSTIs)", correct: true },
                    { text: "Fusion Inhibitors", correct: false }
                ],
                explanation: "Integrase Strand Transfer Inhibitors (INSTIs), often called integrase inhibitors, block the action of the HIV enzyme integrase. This enzyme is responsible for inserting (integrating) the viral DNA into the DNA of the host CD4 cell. Blocking integrase prevents the establishment of a persistent infection.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The 'eclipse phase' of the viral life cycle is characterized by:",
                options: [
                    { text: "The period of maximum virion release from the host cell.", correct: false },
                    { text: "The time after initial infection when infectious virus particles cannot yet be detected.", correct: true },
                    { text: "The stage when the virus is attaching to the host cell surface.", correct: false },
                    { text: "The phase where the viral genome becomes latent.", correct: false }
                ],
                explanation: "The eclipse phase is the initial period after a virus infects a cell during which the viral genome is uncoated and viral replication begins (synthesis of viral nucleic acids and proteins). During this time, no complete, infectious virions are present, so infectivity is temporarily lost or undetectable.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the primary role of hemagglutinin (HA) spikes on the surface of the influenza virus?",
                options: [
                    { text: "To cleave sialic acid residues and release new virions from the host cell.", correct: false }, // This is Neuraminidase (NA)
                    { text: "To bind to sialic acid receptors on host respiratory epithelial cells and mediate viral entry.", correct: true },
                    { text: "To transcribe the viral RNA genome into mRNA.", correct: false },
                    { text: "To package the segmented RNA genome into new virions.", correct: false }
                ],
                explanation: "Hemagglutinin (HA) is a surface glycoprotein of the influenza virus that is responsible for binding to sialic acid-containing receptors on the surface of host cells in the respiratory tract. This binding initiates viral attachment and subsequent entry into the cell, often via endocytosis.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "A defective interfering particle (DIP) is a type of virus particle that:",
                options: [
                    { text: "Has an enhanced ability to cause disease.", correct: false },
                    { text: "Contains a mutated genome that allows it to infect new host species.", correct: false },
                    { text: "Is non-infectious or has reduced infectivity and can interfere with the replication of standard, infectious virus.", correct: true },
                    { text: "Lacks a capsid but still contains a full viral genome.", correct: false }
                ],
                explanation: "Defective interfering particles (DIPs) are spontaneously generated viral mutants that have deletions or mutations in their genome, making them unable to replicate independently. However, they can be replicated in the presence of a standard helper virus and can interfere with the replication of this helper virus, often by competing for replication machinery.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The phenomenon of 'viral shedding' refers to:",
                options: [
                    { text: "The uncoating of the virus inside the host cell.", correct: false },
                    { text: "The release of infectious virus particles from an infected host into the environment.", correct: true },
                    { text: "The integration of viral DNA into the host genome.", correct: false },
                    { text: "The immune system clearing the virus from the body.", correct: false }
                ],
                explanation: "Viral shedding is the process by which infectious virus particles are released from an infected host organism. This can occur through various routes, such as respiratory droplets, feces, skin lesions, or bodily fluids, and is the means by which viruses are transmitted to new hosts.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which of the following is a characteristic of the Poxviridae family (e.g., Smallpox virus, Vaccinia virus)?",
                options: [
                    { text: "They are small RNA viruses with icosahedral capsids.", correct: false },
                    { text: "They are large, complex DNA viruses that replicate entirely in the cytoplasm.", correct: true },
                    { text: "They are retroviruses that cause skin lesions.", correct: false },
                    { text: "They have a segmented RNA genome and an envelope.", correct: false }
                ],
                explanation: "Poxviruses are among the largest and most complex animal viruses. They have a double-stranded DNA genome and, uniquely among DNA viruses, they replicate entirely within the cytoplasm of the host cell, encoding many of their own replication enzymes.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The term 'serotype' or 'serovar' in virology is used to distinguish viruses based on:",
                options: [
                    { text: "Differences in their nucleic acid sequences.", correct: false },
                    { text: "Their distinct surface antigens, as determined by serological tests (e.g., antibody reactions).", correct: true },
                    { text: "The type of host cell they infect.", correct: false },
                    { text: "Their mode of replication.", correct: false }
                ],
                explanation: "A serotype (or serovar) is a distinct variation within a species of virus (or bacterium) that is characterized by its specific surface antigens. Different serotypes will elicit different antibody responses and can be distinguished using serological tests. For example, there are multiple serotypes of Dengue virus.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the primary structural component of a viroid?",
                options: [
                    { text: "A protein capsid enclosing a DNA genome.", correct: false },
                    { text: "A single, circular molecule of RNA with no protein coat.", correct: true },
                    { text: "A misfolded protein.", correct: false }, // Prion
                    { text: "A lipid envelope surrounding an RNA genome.", correct: false }
                ],
                explanation: "Viroids are the simplest known infectious agents, consisting solely of a small, circular, single-stranded RNA molecule. They lack any protein capsid or envelope and primarily cause diseases in plants by interfering with host gene expression.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "In the context of HIV, 'elite controllers' are individuals who:",
                options: [
                    { text: "Are rapidly progressing to AIDS despite treatment.", correct: false },
                    { text: "Maintain undetectable viral loads and normal CD4 counts for many years without antiretroviral therapy.", correct: true },
                    { text: "Are infected with a non-pathogenic strain of HIV.", correct: false },
                    { text: "Have developed complete sterilizing immunity after initial infection.", correct: false }
                ],
                explanation: "Elite controllers are a rare group of HIV-infected individuals (less than 1%) who can naturally control HIV replication and maintain high CD4+ T cell counts and undetectable or very low viral loads for extended periods without needing antiretroviral therapy. The mechanisms behind this control are an area of intense research.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The assembly of new virus particles (virions) typically occurs:",
                options: [
                    { text: "Exclusively outside the host cell.", correct: false },
                    { text: "At specific sites within the host cell, such as the nucleus or cytoplasm, or at cellular membranes.", correct: true },
                    { text: "Only after the host cell has undergone lysis.", correct: false },
                    { text: "Through spontaneous generation from viral components in the extracellular fluid.", correct: false }
                ],
                explanation: "Viral assembly is a complex, highly organized process that occurs within the infected host cell. Depending on the virus, assembly can take place in the nucleus (e.g., herpesviruses, adenoviruses), the cytoplasm (e.g., picornaviruses, poxviruses), or at cellular membranes (e.g., enveloped viruses like influenza and HIV during budding).",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which property of retroviruses like HIV makes them particularly challenging for the host immune system to completely eliminate?",
                options: [
                    { text: "Their ability to form a latent provirus integrated into the host cell's genome.", correct: true },
                    { text: "Their extremely rapid rate of cell lysis.", correct: false },
                    { text: "The lack of an envelope, making them resistant to antibodies.", correct: false }, // HIV is enveloped
                    { text: "Their exclusive replication in non-immune cells.", correct: false } // HIV targets immune cells
                ],
                explanation: "A key challenge in eradicating HIV is its ability to establish a latent reservoir. The viral DNA (provirus) integrates into the host cell's genome, where it can remain dormant and hidden from the immune system and antiretroviral drugs. These latently infected cells can reactivate later, producing new virus particles.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The term 'ambisense' RNA genome in some viruses means that:",
                options: [
                    { text: "The genome consists of both DNA and RNA segments.", correct: false },
                    { text: "The genome can be translated in both forward and reverse directions.", correct: false },
                    { text: "Parts of the RNA genome are positive-sense (can be translated directly) and other parts are negative-sense (must be transcribed first).", correct: true },
                    { text: "The genome is circular and can replicate in two different modes.", correct: false }
                ],
                explanation: "An ambisense RNA genome contains coding regions in both the positive-sense (mRNA-like) and negative-sense (complementary to mRNA) orientations. This means some proteins are translated directly from the genomic RNA (or a subgenomic mRNA identical to part of it), while others are translated from mRNA transcribed from the genomic RNA. Arenaviruses and Bunyaviruses have ambisense genomes.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the significance of the enzyme Neuraminidase (NA) for the influenza virus life cycle?",
                options: [
                    { text: "It binds the virus to host cell receptors.", correct: false }, // This is Hemagglutinin (HA)
                    { text: "It cleaves sialic acid residues, facilitating the release of newly formed virions from the infected cell surface.", correct: true },
                    { text: "It unwinds the viral RNA genome for replication.", correct: false },
                    { text: "It integrates the viral genome into the host chromosome.", correct: false }
                ],
                explanation: "Neuraminidase (NA) is an enzyme on the surface of influenza viruses. Its primary role is to cleave sialic acid residues from host cell glycoproteins and from newly formed virions. This action prevents the aggregation of new virus particles on the cell surface and facilitates their release from the infected cell, allowing them to spread.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "Which of the following best describes the structure and function of a viral 'scaffold protein'?",
                options: [
                    { text: "A protein that forms the outermost layer of the virion, protecting it from the environment.", correct: false },
                    { text: "An enzyme that replicates the viral nucleic acid.", correct: false },
                    { text: "A temporary protein that assists in the correct assembly of the capsid or other viral structures but is not part of the mature virion.", correct: true },
                    { text: "A host protein that is hijacked by the virus to aid in its replication.", correct: false }
                ],
                explanation: "Scaffolding proteins are transient components in the assembly of some complex viral structures, particularly capsids. They guide the correct formation and arrangement of capsomeres into the final capsid structure. Once assembly is complete, scaffolding proteins are often removed or degraded and are not typically found in the mature, infectious virion.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The 'one-step growth curve' experiment in virology is used to study:",
                options: [
                    { text: "The genetic diversity of a viral population.", correct: false },
                    { text: "The host range of a particular virus.", correct: false },
                    { text: "The kinetics of viral replication in a synchronized infection of host cells.", correct: true },
                    { text: "The effectiveness of antiviral drugs.", correct: false }
                ],
                explanation: "The one-step growth curve experiment involves infecting a culture of host cells with a virus at a high multiplicity of infection (so most cells are infected simultaneously). Samples are then taken over time to measure the number of infectious virus particles. This allows researchers to define distinct phases of the viral replication cycle, such as the eclipse period, latent period, and burst size.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What is the primary mechanism by which prions cause disease?",
                options: [
                    { text: "By inducing an inflammatory response in the brain.", correct: false },
                    { text: "By converting normal cellular prion proteins (PrPC) into abnormal, misfolded, pathogenic forms (PrPSc).", correct: true },
                    { text: "By inserting their genetic material into host neurons, disrupting their function.", correct: false }, // Prions have no genetic material
                    { text: "By forming pores in neuronal membranes, leading to cell death.", correct: false }
                ],
                explanation: "Prion diseases (transmissible spongiform encephalopathies) are caused by the conversion of the normal cellular prion protein (PrPC), which has a predominantly alpha-helical structure, into an abnormal, misfolded isoform (PrPSc), which is rich in beta-sheets. This PrPSc is infectious and can template the misfolding of more PrPC, leading to aggregation and neurodegeneration.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "In the Baltimore classification, Class IV viruses (e.g., Picornaviruses like Poliovirus) have what type of genome?",
                options: [
                    { text: "Double-stranded DNA (dsDNA)", correct: false },
                    { text: "Single-stranded DNA (ssDNA)", correct: false },
                    { text: "Positive-sense single-stranded RNA ((+)ssRNA)", correct: true },
                    { text: "Negative-sense single-stranded RNA ((-)ssRNA)", correct: false }
                ],
                explanation: "Class IV viruses in the Baltimore classification system possess a positive-sense single-stranded RNA genome. This means their genomic RNA can directly function as mRNA and be translated by host ribosomes to produce viral proteins. Poliovirus, Hepatitis A virus, and Rhinoviruses are examples.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "The phenomenon of 'receptor-mediated endocytosis' as a viral entry mechanism involves:",
                options: [
                    { text: "The virus directly fusing its envelope with the host plasma membrane at neutral pH.", correct: false }, // Direct fusion is another mechanism
                    { text: "The virus injecting its nucleic acid through the host cell membrane, leaving the capsid outside.", correct: false }, // Typical for some bacteriophages
                    { text: "The host cell actively engulfing the bound virus particle into an endosomal vesicle.", correct: true },
                    { text: "The virus creating a pore in the host cell membrane to allow entry of the nucleocapsid.", correct: false }
                ],
                explanation: "Receptor-mediated endocytosis is a common entry pathway for many viruses. After binding to specific host cell surface receptors, the virus particle is internalized by the host cell through the formation of an endocytic vesicle. The virus then typically uncoats or fuses from within this vesicle (often triggered by low pH in endosomes) to release its genome into the cytoplasm.",
                difficulty: "Tough",
                isSpecial: false
            },
            {
                text: "What distinguishes a 'satellite virus' from a standard virus?",
                options: [
                    { text: "Satellite viruses can replicate independently but cause more severe disease.", correct: false },
                    { text: "Satellite viruses are genetically incomplete and require a helper virus for their replication.", correct: true },
                    { text: "Satellite viruses only infect other viruses, not cellular hosts.", correct: false },
                    { text: "Satellite viruses have a much broader host range than standard viruses.", correct: false }
                ],
                explanation: "Satellite viruses are subviral agents that are dependent on co-infection of a host cell with a specific helper virus for their own replication. They often have genomes that encode their own capsid protein but lack essential replication enzymes, which must be provided by the helper virus. Hepatitis D virus is a well-known human satellite virus that requires Hepatitis B virus as a helper.",
                difficulty: "Tough",
                isSpecial: false
            }

        ];

        let originalQuestions = JSON.parse(JSON.stringify(questions)); // For surprise mode reset
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let score = 0;
        let timerInterval;
        let timeLeft = QUIZ_DURATION;
        let candidateFullName = "";
        let quizStartTime;
        let surpriseMode = false;


        // --- Page Elements ---
        const loginPage = document.getElementById('login-page');
        const namePage = document.getElementById('name-page');
        const quizPage = document.getElementById('quiz-page');
        const resultsPage = document.getElementById('results-page');

        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginButton = document.getElementById('login-button');
        const loginError = document.getElementById('login-error');

        const fullNameInput = document.getElementById('full-name');
        const nameSubmitButton = document.getElementById('name-submit-button');
        const nameError = document.getElementById('name-error');
        
        const topBar = document.getElementById('top-bar');
        const liveDateDisplay = document.getElementById('live-date');
        const quizTitleDisplay = document.getElementById('quiz-title');
        const updatedOnDisplay = document.getElementById('updated-on');
        const candidateNameDisplay = document.getElementById('candidate-name-display');

        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const surpriseMeButton = document.getElementById('surprise-me-button');

        const questionContainer = document.getElementById('question-container');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const submitQuizButton = document.getElementById('submit-quiz-button');

        const resultName = document.getElementById('result-name');
        const resultScore = document.getElementById('result-score');
        const resultAttempted = document.getElementById('result-attempted');
        const resultTime = document.getElementById('result-time');
        const retakeQuizButton = document.getElementById('retake-quiz-button');

        const resultsForm = document.getElementById('results-form');
        const formName = document.getElementById('form-name');
        const formScore = document.getElementById('form-score');
        const formAttempted = document.getElementById('form-attempted');
        const formTime = document.getElementById('form-time');
        const formQuizDate = document.getElementById('form-quiz-date');
        const formSubmissionTimestamp = document.getElementById('form-submission-timestamp');

        const customModal = document.getElementById('custom-modal');
        const customModalMessage = document.getElementById('custom-modal-message');
        const customModalClose = document.getElementById('custom-modal-close');

        // --- Utility Functions ---
        function showPage(pageId) {
            [loginPage, namePage, quizPage, resultsPage].forEach(page => {
                page.classList.add('hidden');
                page.classList.remove('flex', 'flex-col'); 
            });
            const pageToShow = document.getElementById(pageId);
            pageToShow.classList.remove('hidden');
            if (pageId === 'login-page' || pageId === 'name-page' || pageId === 'results-page') {
                pageToShow.classList.add('flex', 'flex-col'); 
            } else if (pageId === 'quiz-page') {
                 pageToShow.classList.add('flex', 'flex-col');
            }
        }

        function showModal(message) {
            customModalMessage.textContent = message;
            customModal.classList.remove('hidden');
        }

        customModalClose.addEventListener('click', () => {
            customModal.classList.add('hidden');
        });

        function formatDate(dateObj) {
            return dateObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        }
        
        function formatTime(seconds) {
            const h = Math.floor(seconds / 3600).toString().padStart(2, '0');
            const m = Math.floor((seconds % 3600) / 60).toString().padStart(2, '0');
            const s = (seconds % 60).toString().padStart(2, '0');
            return `${h}:${m}:${s}`;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- Event Listeners ---
        loginButton.addEventListener('click', handleLogin);
        passwordInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleLogin(); });
        nameSubmitButton.addEventListener('click', handleNameSubmit);
        fullNameInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleNameSubmit(); });
        
        prevButton.addEventListener('click', prevQuestion);
        nextButton.addEventListener('click', nextQuestion);
        submitQuizButton.addEventListener('click', submitQuiz);
        retakeQuizButton.addEventListener('click', () => window.location.reload());
        surpriseMeButton.addEventListener('click', toggleSurpriseMode);

        function initQuizPage() {
            const now = new Date();
            liveDateDisplay.textContent = `ðŸ“… ${formatDate(now)}`;
            quizTitleDisplay.textContent = `MDCAT Daily Quiz â€“ ${QUIZ_DATE_STRING}`;
            updatedOnDisplay.textContent = `Updated on: ${formatDate(now)}`;
             // Ensure topBar is visible and get its height *after* it's rendered
            topBar.classList.remove('hidden'); 
            setTimeout(() => { // Delay to ensure DOM is updated
                if (topBar.offsetHeight > 0) {
                     document.body.style.paddingTop = `${topBar.offsetHeight}px`;
                }
            }, 0);
        }
        
        function handleLogin() {
            if (usernameInput.value === CORRECT_USERNAME && passwordInput.value === CORRECT_PASSWORD) {
                loginError.textContent = "";
                showPage('name-page');
            } else {
                loginError.textContent = "Invalid username or password.";
            }
        }

        function handleNameSubmit() {
            candidateFullName = fullNameInput.value.trim();
            if (candidateFullName) {
                nameError.textContent = "";
                candidateNameDisplay.textContent = candidateFullName;
                showPage('quiz-page');
                initQuizPage(); // Initialize dates and padding here, after quiz page is shown
                startQuiz();
            } else {
                nameError.textContent = "Please enter your full name.";
            }
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            score = 0;
            timeLeft = QUIZ_DURATION;
            quizStartTime = new Date();

            // Apply surprise mode: 30% chance to shuffle if enabled
            if (surpriseMode && Math.random() < 0.3) {
                questions = JSON.parse(JSON.stringify(originalQuestions)); 
                shuffleArray(questions); 
                showModal("Surprise! Questions have been shuffled for this attempt.");
            } else {
                 questions = JSON.parse(JSON.stringify(originalQuestions)); 
            }

            loadQuestion(currentQuestionIndex);
            updateProgressBar();
            startTimer();
            submitQuizButton.classList.add('hidden');
            nextButton.classList.remove('hidden');
            prevButton.disabled = true; // Ensure prev is disabled at start
        }
        
        function toggleSurpriseMode() {
            surpriseMode = !surpriseMode;
            surpriseMeButton.textContent = `Toggle Surprise Me Mode (${surpriseMode ? 'ON' : 'OFF'})`;
            showModal(`Surprise Me mode is now ${surpriseMode ? 'ON' : 'OFF'}. This will apply with a 30% chance when you next start the quiz.`);
        }

        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;

            const question = questions[index];
            questionContainer.innerHTML = ""; 

            const questionCard = document.createElement('div');
            questionCard.className = `p-1 md:p-2 question-card-item ${question.isSpecial && isTodaySpecial() ? 'special-question rounded-lg' : ''}`; // Added rounded-lg for special Q
            
            const difficultyColor = question.difficulty === "Easy" ? "text-green-600" : question.difficulty === "Medium" ? "text-yellow-600" : "text-red-600";

            let questionHTML = `
                <div class="mb-4">
                    <p class="text-gray-500 text-sm">Question ${index + 1} of ${questions.length} <span class="font-semibold ${difficultyColor}">(${question.difficulty})</span></p>
                    <h2 class="text-xl md:text-2xl font-semibold my-2">${question.text}</h2>
                </div>
                <div class="space-y-3 md:space-y-4 options-grid">
            `;

            let displayOptions = [...question.options];
            if (!userAnswers[index]) { // Only shuffle if not answered yet, to maintain consistency on revisit
                shuffleArray(displayOptions);
            } else { // If answered, need to find the original order to display selection correctly
                // This part is tricky if options were shuffled AND user revisits.
                // For simplicity, if an answer exists, we'll just display based on the current `questions` array order
                // and mark the selected one. True robust shuffling + revisit requires storing shuffled order.
                // Current `questions` array is already potentially shuffled by surprise mode.
            }


            displayOptions.forEach((option, optIndex) => {
                // Sanitize option text for use in HTML attributes and JS
                const sanitizedOptionText = option.text.replace(/'/g, "\\'").replace(/"/g, "&quot;");
                questionHTML += `
                    <button 
                        class="quiz-option w-full text-left p-3 md:p-4 border-2 border-gray-300 rounded-lg hover:border-[#20B2AA] focus:outline-none focus:ring-2 focus:ring-[#20B2AA] transition-all duration-200"
                        onclick="selectAnswer(this, '${sanitizedOptionText}')"
                        data-option-text="${sanitizedOptionText}">
                        ${String.fromCharCode(65 + optIndex)}. ${option.text}
                    </button>
                `;
            });
            questionHTML += `</div>`;
            
            questionHTML += `<div id="explanation-${index}" class="mt-4 p-4 bg-[#FFF5EE] rounded-lg hidden text-sm">
                                <h4 class="font-semibold mb-1">Explanation:</h4>
                                <p>${question.explanation}</p>
                             </div>`;

            questionCard.innerHTML = questionHTML;
            questionContainer.appendChild(questionCard);

            if (userAnswers[index] !== null) {
                const buttons = questionContainer.querySelectorAll('.quiz-option');
                let correctOriginalText; // Find the text of the correct option from the *original* non-shuffled options
                questions[index].options.forEach(opt => { if(opt.correct) correctOriginalText = opt.text; });

                buttons.forEach(button => {
                    const buttonOptionText = button.dataset.optionText; // This is from the (potentially) shuffled displayOptions
                    
                    // Check if this button's text matches the user's selected answer
                    if (buttonOptionText === userAnswers[index].selected) {
                        button.classList.add(userAnswers[index].isCorrect ? 'correct-answer' : 'incorrect-answer');
                    }
                    button.disabled = true; 
                });
                document.getElementById(`explanation-${index}`).classList.remove('hidden');
            }
            updateNavigationButtons();
        }
        
        function isTodaySpecial() {
            // This function now dynamically checks the current date against QUIZ_DATE_STRING
            // to ensure the special question is highlighted only on the correct day.
            const today = new Date();
            const quizDateParts = QUIZ_DATE_STRING.match(/(\w+) (\d+), (\d+)/); // "May 23, 2025"
            if (!quizDateParts) return false;
            
            const quizMonth = quizDateParts[1];
            const quizDay = parseInt(quizDateParts[2]);
            const quizYear = parseInt(quizDateParts[3]);

            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            
            return today.getFullYear() === quizYear &&
                   months[today.getMonth()] === quizMonth &&
                   today.getDate() === quizDay;
        }

        window.selectAnswer = function(optionElement, selectedOptionText) {
            if (userAnswers[currentQuestionIndex] !== null) return; 

            const question = questions[currentQuestionIndex]; // Current question object
            let actualCorrectOptionText = "";
            let isCorrect = false;

            // Find the actual correct option text from the question object
            for (let opt of question.options) {
                if (opt.correct) {
                    actualCorrectOptionText = opt.text;
                    break;
                }
            }
            // Check if the selected option's text matches the actual correct option's text
            if (selectedOptionText === actualCorrectOptionText) {
                isCorrect = true;
            }

            userAnswers[currentQuestionIndex] = { selected: selectedOptionText, isCorrect: isCorrect };
            
            const optionButtons = questionContainer.querySelectorAll('.quiz-option');
            optionButtons.forEach(btn => {
                btn.disabled = true; 
                const btnOptText = btn.dataset.optionText;
                if (btnOptText === selectedOptionText) { 
                    btn.classList.add(isCorrect ? 'correct-answer' : 'incorrect-answer');
                }
            });
            
            document.getElementById(`explanation-${currentQuestionIndex}`).classList.remove('hidden');
            updateProgressBar();
        }

        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === questions.length - 1) {
                nextButton.classList.add('hidden');
                submitQuizButton.classList.remove('hidden');
            } else {
                nextButton.classList.remove('hidden');
                submitQuizButton.classList.add('hidden');
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            }
        }
        
        function updateProgressBar() {
            const answeredCount = userAnswers.filter(ans => ans !== null).length;
            const percentage = (answeredCount / questions.length) * 100;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${Math.round(percentage)}% (${answeredCount}/${questions.length})`;
        }

        function startTimer() {
            clearInterval(timerInterval); 
            timerDisplay.textContent = `Time Left: ${formatTime(timeLeft)}`;
            timerInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `Time Left: ${formatTime(timeLeft)}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showModal("Time's up! Submitting your quiz.");
                    submitQuiz(); // Auto-submit
                }
            }, 1000);
        }

        function submitQuiz() {
            clearInterval(timerInterval);
            calculateResultsAndShow();
        }

        function calculateResultsAndShow() {
            score = 0;
            userAnswers.forEach(answer => {
                if (answer && answer.isCorrect) {
                    score++;
                }
            });
            const attemptedCount = userAnswers.filter(ans => ans !== null).length;
            const timeTaken = QUIZ_DURATION - timeLeft;

            resultName.textContent = candidateFullName;
            resultScore.textContent = `${score} / ${questions.length}`;
            resultAttempted.textContent = `${attemptedCount} / ${questions.length}`;
            resultTime.textContent = formatTime(timeTaken);

            formName.value = candidateFullName;
            formScore.value = `${score} / ${questions.length}`;
            formAttempted.value = `${attemptedCount} / ${questions.length}`;
            formTime.value = formatTime(timeTaken);
            formQuizDate.value = QUIZ_DATE_STRING;
            formSubmissionTimestamp.value = new Date().toISOString();
            
            fetch(resultsForm.action, {
                method: 'POST',
                body: new FormData(resultsForm),
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if (response.ok) {
                    console.log('Form submitted successfully!');
                } else {
                    response.json().then(data => {
                        if (Object.hasOwn(data, 'errors')) {
                           console.error("Form submission error:", data["errors"].map(error => error["message"]).join(", "));
                        } else {
                           console.error("Form submission error: Non-JSON error response.");
                        }
                    }).catch(() => console.error("Form submission error: Non-JSON error response and failed to parse error."));
                }
            }).catch(error => {
                console.error("Form submission fetch error:", error);
            });
            showPage('results-page');
        }

        document.addEventListener('contextmenu', event => event.preventDefault());
        document.addEventListener('copy', event => {
            event.preventDefault();
            showModal('Copying is disabled.');
            return false;
        });
        document.addEventListener('paste', event => {
            event.preventDefault();
            showModal('Pasting is disabled.');
            return false;
        });
        document.addEventListener('keydown', event => {
            const forbiddenKeys = ['F12'];
            const forbiddenCtrlKeys = ['u', 's', 'p', 'c', 'x', 'a']; 
            
            if (forbiddenKeys.includes(event.key) || 
                ((event.ctrlKey || event.metaKey) && forbiddenCtrlKeys.includes(event.key.toLowerCase()))) { // Added event.metaKey for Mac
                event.preventDefault();
                showModal('This functionality is disabled.');
            }
        });

        showPage('login-page'); 
        // initQuizPage() is called after successful name submission now.
    </script>
</body>
</html>
